<view class="address-container">
  <view class="address-list" wx:if="{{addressList.length > 0}}">
    <block wx:for="{{addressList}}" wx:for-item="address">
      <t-cell-group theme="card">
        <t-radio-group value="{{defaultSelectedValue}}" bind:change="onDefaultAddressChange">
          <t-swipe-cell address="{{address}}">
            <t-cell
              description="{{address.name+' '+address.phoneNumber}}"
              title="{{address.provinceName+address.cityName+(address.countyName?address.countyName:'')+(address.townName?address.townName:'')+(address.villageName?address.villageName:'')+address.detailAddress}}"
              bordered="{{false}}"
              data-address="{{address}}"
              bind:tap="onSelectHandle"
            >
              <t-radio
                default-checked="{{address.defaultAddress}}"
                value="{{index}}"
                slot="left-icon"
                block="{{false}}"
              />
              <t-button
                theme="light"
                icon="edit-2"
                slot="right-icon"
                shape="square"
                variant="text"
                size="medium"
                data-address-id="{{address.id}}"
                bind:tap="onEditAddress"
              />
            </t-cell>
            <view slot="right" class="btn delete-btn" data-address-id="{{address.id}}" bind:tap="onDeleteAddress">
              删除
            </view>
          </t-swipe-cell>
        </t-radio-group>
      </t-cell-group>
    </block>
  </view>
  <view wx:else class="no-address">
    <t-empty icon="" description="暂无收货地址，赶快添加吧" />
  </view>
  <view class="bottom-fixed">
    <t-button
      theme="primary"
      size="medium"
      shape="round"
      block
      bind:tap="createHandle"
      disabled="{{addressList.length >= 20}}"
    >
      新增收货地址
    </t-button>
    <view class="footer" wx:if="{{addressList.length >= 20}}">最多支持添加20个收货地址</view>
  </view>
</view>
<t-toast id="t-toast" />
