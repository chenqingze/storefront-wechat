<view class="address-detail">
  <view class="form-address">
    <form class="form-content">
      <t-cell-group theme="card">
        <t-cell title="收货人">
          <t-input
            class="t-input"
            slot="note"
            t-class="field-text"
            borderless
            data-item="name"
            maxlength="20"
            type="text"
            value="{{address.name}}"
            placeholder="收货人姓名"
            bind:change="onInputValue"
          />
        </t-cell>
        <t-cell t-class-title="t-cell-title" title="手机号">
          <t-input
            slot="note"
            class="t-input"
            t-class="field-text"
            borderless
            type="number"
            value="{{address.phoneNumber}}"
            maxlength="11"
            placeholder="配送员联系您的手机号码"
            bind:change="onInputValue"
            data-item="phoneNumber"
          />
        </t-cell>
        <t-cell t-class-title="t-cell-title" title="地区">
          <t-input
            slot="note"
            borderless
            placeholder="省/市/区"
            data-item="address"
            value="{{address.provinceName ? address.provinceName+'/':'' }}{{address.cityName ? address.cityName+'/':''}}{{address.countyName}}"
            catch:tap="onPickRegion"
            disabled
          />
          <t-icon slot="right-icon" name="location" size="48rpx" catch:tap="onSearchAddress" />
        </t-cell>
        <t-cell title="详细地址">
          <view slot="note" class="textarea__wrapper">
            <t-textarea
              slot="note"
              type="text"
              value="{{address.detailAddress}}"
              placeholder="门牌号等(例如:10栋1001号)"
              autosize
              bind:change="onInputValue"
              data-item="detailAddress"
            />
          </view>
        </t-cell>
        <t-cell title="标签">
          <view class="t-input address-flex-box" slot="note">
            <t-button
              wx:for="{{labels}}"
              wx:for-item="label"
              wx:key="index"
              size="extra-small"
              t-class="label-list {{address.labelIndex === index ? 'active-btn':''}}"
              bindtap="onPickLabels"
              data-item="{{index}}"
            >
              {{label.name}}
            </t-button>
            <t-button size="extra-small" t-class="label-list" bindtap="addLabels">
              <t-icon name="add" size="40rpx" color="#bbb" />
            </t-button>
          </view>
        </t-cell>
      </t-cell-group>
      <!-- <view class="submit">
        <t-button theme="primary" size="medium" shape="round" block bind:tap="formSubmit" disabled="{{!submitActive}}">
          保存
        </t-button>
      </view> -->
      <view class="bottom-fixed">
        <t-button theme="primary" size="medium" shape="round" block bind:tap="onSubmit" disabled="{{!submitActive}}">
          保存
        </t-button>
      </view>
    </form>
  </view>
  <t-cascader
    data-item="address"
    data-type="1"
    visible="{{regionPickerVisible}}"
    theme="tab"
    options="{{regionData}}"
    value="{{address.districtCode}}"
    title="选择地区"
    bind:change="onInputValue"
  ></t-cascader>
</view>
<t-dialog
  visible="{{visible}}"
  t-class-confirm="dialog__button-confirm"
  t-class-cancel="dialog__button-cancel"
  title="填写标签名称"
  confirm-btn="确定"
  cancel-btn="取消"
  bind:confirm="confirmHandle"
  bind:cancel="cancelHandle"
>
  <t-input slot="content" class="dialog__input" model:value="{{labelValue}}" placeholder="请输入标签名称" borderless />
</t-dialog>
<t-toast id="t-toast" />
